"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[847],{847:(e,t,r)=>{r.r(t),r.d(t,{default:()=>D});var s=r(821),o={class:"min-vh-100 d-flex flex-column align-items-center justify-content-center py-4"},n={class:"container"},c={key:0,class:"row justify-content-center"},a={class:"col-lg-4 col-md-6 d-flex flex-column align-items-center justify-content-center"},i={class:"d-flex justify-content-center py-4"},l=(0,s._)("img",{class:"mx-5",src:"/storage/scheduler.svg",width:"60",alt:"Zucandu Scheduler"},null,-1),u={class:"card card-body shadow-sm w-100"},d=(0,s._)("div",{class:"card-title h5"},"Login",-1),f={key:0,class:"text-danger"},p={key:1,class:"text-success"},g={class:"mb-3"},m=(0,s._)("label",{class:"form-label"},"Store URL",-1),b={class:"mb-3"},h=(0,s._)("label",{for:"password",class:"form-label"},"Password",-1),w={class:"d-flex justify-content-between"},y=["disabled"],v=(0,s._)("span",{class:"spinner-grow spinner-grow-sm",role:"status","aria-hidden":"true"},null,-1),_=(0,s._)("hr",{class:"border-light"},null,-1),k=(0,s._)("p",{class:"text-center"},"You need to connect the app from your Zucandu's store.",-1),O={key:1,class:"row"},j={class:"col-12 text-center"};function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const x={data:function(){return{formdata:{store_url:void 0,password:void 0},processing:!1,errorMsg:void 0,successMsg:void 0}},created:function(){this.successMsg=this.$route.query.msg},methods:{login:function(){var e=this;this.processing=!0,this.$store.dispatch("login",this.formdata).then((function(){e.$store.dispatch("getUserProfile").then((function(){e.$router.push("/store/dashboard")}))})).catch((function(t){e.errorMsg=t.response.data.message})).finally((function(){e.processing=!1,e.successMsg=void 0}))}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(0,r(907).Se)(["isUserToken"]))};const D=(0,r(744).Z)(x,[["render",function(e,t,r,P,U,x){var D=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("section",o,[(0,s._)("div",n,[e.isUserToken?((0,s.wg)(),(0,s.iD)("div",O,[(0,s._)("div",j,[(0,s._)("p",null,[(0,s.Uk)("You have already logged into the system. Please go to the "),(0,s.Wm)(D,{to:"/store/dashboard"},{default:(0,s.w5)((function(){return[(0,s.Uk)("Zucandu Scheduler Dashboard")]})),_:1}),(0,s.Uk)(" or back to the "),(0,s.Wm)(D,{to:"/"},{default:(0,s.w5)((function(){return[(0,s.Uk)("home page")]})),_:1}),(0,s.Uk)(".")])])])):((0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("div",a,[(0,s._)("div",i,[(0,s.Wm)(D,{to:"/",class:"logo"},{default:(0,s.w5)((function(){return[l]})),_:1})]),(0,s._)("div",u,[d,e.errorMsg?((0,s.wg)(),(0,s.iD)("p",f,(0,s.zw)(e.errorMsg),1)):(0,s.kq)("",!0),e.successMsg?((0,s.wg)(),(0,s.iD)("p",p,(0,s.zw)(e.successMsg),1)):(0,s.kq)("",!0),(0,s._)("form",{onSubmit:t[2]||(t[2]=(0,s.iM)((function(e){return x.login()}),["prevent"]))},[(0,s._)("div",g,[m,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.formdata.store_url=t}),type:"text",class:"form-control",placeholder:"E.g. hello.zucandu.com",required:""},null,512),[[s.nr,e.formdata.store_url]])]),(0,s._)("div",b,[h,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formdata.password=t}),type:"password",class:"form-control",id:"password",placeholder:" Password ",required:""},null,512),[[s.nr,e.formdata.password]])]),(0,s._)("div",w,[(0,s.Wm)(D,{class:"btn btn-link px-0",to:"/forgot-password"},{default:(0,s.w5)((function(){return[(0,s.Uk)("Forgot Password?")]})),_:1}),(0,s._)("button",{disabled:!0===e.processing,class:"btn btn-primary",type:"submit"},[!0===e.processing?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[v,(0,s.Uk)(" Loading... ")],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)(" Login ")],64))],8,y)]),_,k],32)])])]))])])}]])}}]);